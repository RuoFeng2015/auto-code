var E=(x,b,m)=>new Promise((r,y)=>{var B=_=>{try{i(m.next(_))}catch(c){y(c)}},o=_=>{try{i(m.throw(_))}catch(c){y(c)}},i=_=>_.done?r(_.value):Promise.resolve(_.value).then(B,o);i((m=m.apply(x,b)).next())});import{g as T}from"./form_list.545ce60e.js";import{d as W,k as V,f as N,a3 as X,R as Y,g as Z,o as v,c as G,V as n,X as l,u,bY as H,a2 as p,aU as U,a as k,_ as h,ah as f,Z as D,bN as L,bh as g,h as s,b2 as Q,aF as A,aj as ee,av as ae,ai as te,aN as ue,aM as ne,ay as le,N as oe,aR as se,ax as re,az as ie}from"./vendor.b23ac7e6.js";import{_ as _e,d as de}from"./index.47bca9f6.js";const pe={class:"from_detail"},me={style:{"margin-left":"80px"}},ce=g("\u4E0B\u4E00\u6B65"),fe=g(" \u65B0\u589E\u5B57\u6BB5 "),ye={class:"tool-footer"},ve=g(" \u4E0A\u4E00\u6B65 "),ge=g(" \u4FDD\u5B58 "),be=W({setup(x){const{hasPermission:b}=de();let r=V((()=>({id:"",name:"",prefix:"",type:"",remark:""}))());const y={name:{required:!0,message:"\u8BF7\u8F93\u5165\u8868\u540D",trigger:"blur"},prefix:{required:!0,message:"\u8BF7\u8F93\u5165\u8868\u524D\u7F00",trigger:"blur"},type:{required:!0,message:"\u8BF7\u9009\u62E9\u4E1A\u52A1\u8868\u5355",trigger:["input"]},remark:{required:!0,message:"\u8BF7\u8F93\u5165\u8868\u63CF\u8FF0",trigger:"blur"}},B=[{title:"\u5E8F\u53F7",key:"index"},{title:"\u5B57\u6BB5\u5217\u540D",key:"name",render(a,e){return s(p,{value:a.name,onUpdateValue(t){o.tableData[e].name=t}})}},{title:"\u6570\u636E\u7C7B\u578B",key:"type",render(a,e){return s(U,{value:a.type,options:[{label:"Integer",value:"0"},{label:"String",value:"1"},{label:"Boolean",value:"2"}],onUpdateValue(t){o.tableData[e].type=t}})}},{title:"\u957F\u5EA6",key:"length",render(a,e){return s(p,{value:a.length,onUpdateValue(t){o.tableData[e].length=t}})}},{title:"\u5C0F\u6570\u70B9",key:"decimal",render(a,e){return s(Q,{value:a.decimal,onUpdateValue(t){o.tableData[e].decimal=t}})}},{title:"\u5141\u8BB8\u7A7A\u503C",key:"allowNull",render(a,e){return s(A,{value:a.allowNull,round:!1,onUpdateValue(t){o.tableData[e].allowNull=t}},{checked:()=>s("span","\u662F"),unchecked:()=>s("span","\u5426")})}},{title:"\u662F\u5426\u4E3B\u952E",key:"primaryKey",render(a,e){return s(A,{value:a.primaryKey,round:!1,onUpdateValue(t){o.tableData[e].primaryKey=t}},{checked:()=>s("span","\u662F"),unchecked:()=>s("span","\u5426")})}},{title:"\u9ED8\u8BA4\u503C",key:"defaults",render(a,e){return s(p,{value:a.defaults,onUpdateValue(t){o.tableData[e].defaults=t}})}},{title:"\u5B57\u6BB5\u6CE8\u91CA",key:"comments",render(a,e){return s(p,{value:a.comments,onUpdateValue(t){o.tableData[e].comments=t}})}},{title:"\u5173\u8054\u5B57\u5178",key:"dictionary",render(a,e){return s(p,{value:a.dictionary,onUpdateValue(t){o.tableData[e].dictionary=t}})}},{title:"\u64CD\u4F5C",key:"operation",render(a,e){return s(f,{size:"small",type:"error",onClick:I.bind(null,a,e)},"\u5220\u9664")}}],o=V({options:[{label:"\u7CFB\u7EDF\u8868\u5355",value:"0"},{label:"\u4E1A\u52A1\u8868\u5355",value:"1"}],tableData:[{index:1,name:"id",type:"Integer",length:"11",decimal:"",allowNull:!1,primaryKey:!0,defaults:"",comments:"\u552F\u4E00\u4E3B\u952E",dictionary:""},{index:2,name:"name",type:"String",length:"20",decimal:"",allowNull:!1,primaryKey:!1,defaults:"",comments:"",dictionary:""}]});let i=N(0);const _=N(null);X();const c=Y(),F=()=>b(r.id?["update_activity"]:["save_activity"]),w=()=>{_.value.validate(a=>{a||(i.value=1)})},R=()=>{i.value=0};function P(){}function I(a,e){console.log(JSON.stringify(a)+"index: "+e)}function K(){o.tableData.push({index:o.tableData.length,name:"",type:"String",length:"20",decimal:"",allowNull:!0,primaryKey:!1,defaults:"",comments:"",dictionary:""})}return Z(()=>E(this,null,function*(){let a=c.params.id;if(a&&a!=="0"){let e=yield T({id:a});e&&e.success&&e.data}})),(a,e)=>{const t=ee,S=ae,$=te,q=ue,M=ne,C=le,z=oe,O=se,j=re,J=ie;return v(),G("div",pe,[n(J,{bordered:!1,class:"mt-4 proCard"},{default:l(()=>[n(j,{type:"card",animated:!0,value:u(i),"onUpdate:value":e[4]||(e[4]=d=>H(i)?i.value=d:i=d)},{default:l(()=>[n(C,{name:0,tab:"\u57FA\u672C\u4FE1\u606F"},{default:l(()=>[n(M,{cols:"1 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen"},{default:l(()=>[n(q,{offset:"0 s:0 m:1 l:1 xl:1 2xl:1"},{default:l(()=>[n($,{"label-width":80,model:u(r),rules:y,"label-placement":"left",ref_key:"formRef",ref:_,class:"py-8"},{default:l(()=>[n(t,{label:"\u8868\u540D",path:"name"},{default:l(()=>[n(u(p),{value:u(r).name,"onUpdate:value":e[0]||(e[0]=d=>u(r).name=d),placeholder:"\u8F93\u5165\u8868\u540D"},null,8,["value"])]),_:1}),n(t,{label:"\u8868\u524D\u7F00",path:"prefix"},{default:l(()=>[n(u(p),{value:u(r).prefix,"onUpdate:value":e[1]||(e[1]=d=>u(r).prefix=d),placeholder:"\u8F93\u5165\u8868\u524D\u7F00"},null,8,["value"])]),_:1}),n(t,{label:"\u8868\u7C7B\u578B",path:"type"},{default:l(()=>[n(u(U),{placeholder:"\u8BF7\u9009\u62E9\u8868\u7C7B\u578B",options:u(o).options,value:u(r).type,"onUpdate:value":e[2]||(e[2]=d=>u(r).type=d)},null,8,["options","value"])]),_:1}),n(t,{label:"\u8868\u63CF\u8FF0",path:"remark"},{default:l(()=>[n(u(p),{placeholder:"\u8F93\u5165\u8868\u63CF\u8FF0",value:u(r).remark,"onUpdate:value":e[3]||(e[3]=d=>u(r).remark=d)},null,8,["value"])]),_:1}),k("div",me,[n(S,null,{default:l(()=>[F?(v(),h(u(f),{key:0,type:"primary",class:"min-btn",onClick:w,hasPermission:""},{default:l(()=>[ce]),_:1})):D("",!0)]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1}),n(C,{name:1,tab:"\u5B57\u6BB5\u4FE1\u606F"},{default:l(()=>[k("div",null,[n(u(f),{type:"primary",class:"mb-4",onClick:K},{icon:l(()=>[n(z,null,{default:l(()=>[n(u(L))]),_:1})]),default:l(()=>[fe]),_:1}),n(O,{columns:B,data:u(o).tableData},null,8,["data"]),k("div",ye,[F?(v(),h(u(f),{key:0,type:"primary",class:"btn",onClick:R,hasPermission:""},{default:l(()=>[ve]),_:1})):D("",!0),F?(v(),h(u(f),{key:1,type:"primary",class:"btn",onClick:P,hasPermission:""},{default:l(()=>[ge]),_:1})):D("",!0)])])]),_:1})]),_:1},8,["value"])]),_:1})])}}});var De=_e(be,[["__scopeId","data-v-48fc16c8"]]);export{De as default};
